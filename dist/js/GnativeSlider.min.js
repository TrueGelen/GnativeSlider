function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class GnativeSlider{constructor(t){return _defineProperty(this,"dotClick",async t=>{let e=this.activeItemIndex-this.arrActiveDots[t];e<0?(0===this.stackNext&&0===this.stackPrev?(this.stackNext=-1*e,this.stackWatcher()):0!==this.stackNext?this.stackNext=-1*e:0!==this.stackPrev&&(this.stackNext=-1*(e-1)),0!==this.stackPrev&&(this.stackPrev=1)):(0===this.stackPrev&&0===this.stackNext?(this.stackPrev=e,this.stackWatcher()):0!==this.stackPrev?this.stackPrev=e:0!==this.stackNext&&(this.stackPrev=e+1),0!==this.stackNext&&(this.stackNext=1))}),_defineProperty(this,"btnNextClick",async()=>{this.finalSettings.loop?await this.slideWithLoop(!0):await this.slideWithoutLoop(!0)}),_defineProperty(this,"btnPrevClick",async()=>{this.finalSettings.loop?await this.slideWithLoop(!1):await this.slideWithoutLoop(!1)}),_defineProperty(this,"getFirstTouch",t=>{this.itemsContainer.addEventListener("touchend",this.getTouchEnd),this.firstTouchX=t.touches[0].clientX,this.firstTouchY=t.touches[0].clientY,this.itemsContainer.removeEventListener("touchstart",this.getFirstTouch)}),_defineProperty(this,"getTouchEnd",async t=>{this.itemsContainer.removeEventListener("touchend",this.getTouchEnd),Math.abs(this.firstTouchX-t.changedTouches[0].clientX)>Math.abs(this.firstTouchY-t.changedTouches[0].clientY)&&(this.firstTouchX>t.changedTouches[0].clientX?await this.btnNextClick():await this.btnPrevClick()),this.itemsContainer.addEventListener("touchstart",this.getFirstTouch)}),this.defaultSettings={loop:!0,itemsContainer:void 0,animationTime:200,margin:"5px",nav:!0,btnNext:void 0,btnPrev:void 0,dots:!0,dotsContainer:void 0,exampleOfDot:void 0,activeDotClass:void 0,itemsCount:1,responsive:!1,breakpoints:{}},this.finalSettings=this.mergeSettings(this.defaultSettings,t),this.responsiveMap=this.getResponsiveMap(),this.wrapperItemsContainer=document.querySelector(this.finalSettings.itemsContainer),this.itemsContainer=document.createElement("div"),this.items=this.itemsContainer.children,this.widthItem="0",this.itemsCount=this.finalSettings.itemsCount,this.activeItemIndex=0,this.isNav=this.finalSettings.nav,this.btnNext=document.querySelector(this.finalSettings.btnNext),this.btnPrev=document.querySelector(this.finalSettings.btnPrev),this.displayOfButtons=this.getPropertyOfElement(this.btnNext,"display"),this.arrActiveDots=[0],this.dotsContainer=document.querySelector(this.finalSettings.dotsContainer),this.exampleOfDot=document.querySelector(this.finalSettings.exampleOfDot),this.isDots=this.finalSettings.dots,this.firstTouchX=0,this.firstTouchY=0,this.stackNext=0,this.stackPrev=0,this.stepOfAnimation,this.preparingItemsContainer(),this.setEventListeners(),this}getPropertyOfElement(t,e){return""===t.style[e]?t.currentStyle?t.currentStyle[e]:getComputedStyle(t,null)[e]:t.style[e]}preparingItemsContainer(){for(let t=0;t<this.wrapperItemsContainer.childNodes.length;t++)"#text"===this.wrapperItemsContainer.childNodes[t].nodeName&&this.wrapperItemsContainer.childNodes[t].remove();for(;this.wrapperItemsContainer.firstChild;){this.wrapperItemsContainer.firstChild.style.textAlign=this.getPropertyOfElement(this.wrapperItemsContainer.firstChild,"textAlign"),this.wrapperItemsContainer.firstChild.style.width="100%";let t=document.createElement("div");t.append(this.wrapperItemsContainer.firstChild),this.itemsContainer.append(t)}this.wrapperItemsContainer.append(this.itemsContainer),this.itemsContainer.style.overflow="hidden",this.itemsContainer.style.margin=`0px -${this.finalSettings.margin} 0px -${this.finalSettings.margin}`,this.itemsContainer.style.textAlign="left"}preparingItems(){let t=100/this.itemsCount;for(let e=0;e<this.items.length;e++)this.items[e].style.width=`calc(${t}% - ${this.finalSettings.margin} - ${this.finalSettings.margin})`,this.items[e].style.margin=`0px ${this.finalSettings.margin}`}isNode(t){return t&&(1===t.nodeType||11==t.nodeType)}mergeSettings(t,e){return Object.assign(t,e)}isResponsive(){if(this.finalSettings.responsive){for(let t in this.finalSettings.breakpoints)if(t>window.innerWidth)return!0;return!1}return!1}setIsNav(t){if(void 0!==t?void 0!==this.finalSettings.breakpoints[t].nav&&(this.isNav=this.finalSettings.breakpoints[t].nav):this.isNav=this.finalSettings.nav,!this.isNode(this.btnNext)||!this.isNode(this.btnPrev))return!1;this.isNav?(this.btnNext.style.display=this.displayOfButtons,this.btnPrev.style.display=this.displayOfButtons):(this.btnNext.style.display="none",this.btnPrev.style.display="none")}setItemsCount(t=!1,e){if(t){if("number"!=typeof this.finalSettings.breakpoints[e].itemsCount)return!1;this.itemsCount=this.finalSettings.breakpoints[e].itemsCount}else this.itemsCount=this.finalSettings.itemsCount}setStepOfAnimation(){this.stepOfAnimation=this.widthItem/(this.finalSettings.animationTime/5)}itemsBehavior(t){return new Promise(e=>{let i,s=0,n=()=>{this.items[this.itemsCount].style.animationName="none",this.items[this.itemsCount].style.margin=`0px ${this.finalSettings.margin}`,this.items[0].style.animationName="none",this.items[0].style.display="none",this.items[0].style.margin=`0px ${this.finalSettings.margin}`,this.itemsContainer.append(this.items[0]),s=0},r=()=>{this.items[0].style.animationName="none",this.items[0].style.margin=`0px ${this.finalSettings.margin}`,this.items[this.itemsCount].style.animationName="none",this.items[this.itemsCount].style.display="none",this.items[this.itemsCount].style.margin=`0px ${this.finalSettings.margin}`,this.itemsContainer.style.textAlign="left",s=0},o=()=>{s+=this.stepOfAnimation,this.items[0].style.marginLeft="-"+s+"px",-1*parseInt(this.items[0].style.marginLeft)>Number(this.widthItem)&&(clearInterval(i),n(),e())},a=()=>{s+=this.stepOfAnimation,this.items[this.itemsCount].style.marginRight="-"+s+"px",-1*parseInt(this.items[this.itemsCount].style.marginRight)>Number(this.widthItem)&&(clearInterval(i),r(),e())};t?(this.items[this.itemsCount].style.display="inline-block",this.items[this.itemsCount].style.marginRight=`-${Number(this.widthItem)}px`,i=setInterval(o,5)):(this.items[this.items.length-1].style.marginLeft=`-${Number(this.widthItem)}px`,this.items[this.items.length-1].style.display="inline-block",this.itemsContainer.prepend(this.items[this.items.length-1]),this.itemsContainer.style.textAlign="right",i=setInterval(a,5))})}setWidthItem(){this.widthItem=(this.items[0].getBoundingClientRect().width+parseInt(this.items[0].style.marginLeft)).toString()}createItems(){for(let t=0;t<this.items.length;t++)this.items[t].style.display="none";for(let t=0;t<this.itemsCount;t++)this.items[t].style.display="inline-block"}setIsDots(t){void 0!==t?void 0!==this.finalSettings.breakpoints[t].dots&&(this.isDots=this.finalSettings.breakpoints[t].dots):this.isDots=this.finalSettings.dots}setArrActiveDots(){this.arrActiveDots=[0];let t=0;for(let e=0;e<this.items.length;e+=this.itemsCount)(t+=this.itemsCount)<=this.items.length-1&&this.arrActiveDots.push(t);this.arrActiveDots[this.arrActiveDots.length-1]!==this.items.length-this.itemsCount&&(this.arrActiveDots[this.arrActiveDots.length-1]=this.items.length-this.itemsCount)}dotsBehavior(){if(1===this.arrActiveDots.length)this.dotsContainer.childNodes[this.activeItemIndex].classList.remove(this.finalSettings.activeDotClass),this.dotsContainer.childNodes[this.activeItemIndex+1].classList.add(this.finalSettings.activeDotClass);else for(let t=0;t<this.arrActiveDots.length;t++)if(this.activeItemIndex===this.arrActiveDots[t]){let e=this.dotsContainer.querySelector("."+this.finalSettings.activeDotClass),i=this.arrActiveDots.indexOf(this.arrActiveDots[t]);return e.classList.remove(this.finalSettings.activeDotClass),this.dotsContainer.childNodes[i].classList.add(this.finalSettings.activeDotClass),!1}}removeDots(){if(this.isNode(this.dotsContainer))for(;this.dotsContainer.firstChild;)this.dotsContainer.firstChild.remove()}createDots(){let t;if(this.removeDots(),"number"!=typeof this.itemsCount)return!1;t=Math.ceil(this.items.length/this.itemsCount);for(let e=0;e<t;e++)this.dotsContainer.append(this.exampleOfDot.cloneNode(!0));for(let t=0;t<this.arrActiveDots.length;t++){if(this.activeItemIndex<this.arrActiveDots[t])return this.dotsContainer.children[t-1].classList.add(this.finalSettings.activeDotClass),!1;if(this.activeItemIndex==this.arrActiveDots[t])return this.dotsContainer.children[t].classList.add(this.finalSettings.activeDotClass),!1;if(0==this.activeIndex||this.activeIndex>this.arrActiveDots.length-1)return this.dotsContainer.firstChild.classList.add(this.finalSettings.activeDotClass),!1}}setEventListenerForDots(){for(let t=0;t<this.dotsContainer.children.length;t++)this.dotsContainer.children[t].addEventListener("click",this.dotClick.bind(this,t))}getResponsiveMap(){return Object.keys(this.finalSettings.breakpoints)}getBreakPoint(){for(let t=0;t<this.responsiveMap.length;t++)if(Number(this.responsiveMap[t])>window.innerWidth)return this.responsiveMap[t]}createSlider(){if(this.isResponsive()){let t=this.getBreakPoint();this.setItemsCount(!0,t),this.setIsDots(t),this.setArrActiveDots(),this.setIsNav(t)}else this.setItemsCount(!1),this.setArrActiveDots(),this.setIsDots(),this.setIsNav();this.isDots?(this.createDots(),this.setEventListenerForDots()):this.removeDots(),this.preparingItems(),this.createItems(),this.setWidthItem(),this.setStepOfAnimation()}async slideWithLoop(t){t?(await this.itemsBehavior(t),this.activeItemIndex+1<this.items.length?(this.activeItemIndex++,this.isDots&&this.dotsBehavior()):(this.activeItemIndex=0,this.isDots&&this.dotsBehavior())):(await this.itemsBehavior(t),this.activeItemIndex-1>-1?(this.activeItemIndex--,this.isDots&&this.dotsBehavior()):(this.activeItemIndex=this.items.length-1,this.isDots&&this.dotsBehavior()))}async slideWithoutLoop(t){if(t){if(!(this.activeItemIndex+this.itemsCount<=this.items.length-1))return!1;await this.itemsBehavior(t,0,this.itemsCount),this.activeItemIndex++,this.isDots&&this.dotsBehavior()}else{if(!(this.activeItemIndex-1>=0))return!1;await this.itemsBehavior(t,this.itemsCount-1,this.items.length-1),this.activeItemIndex--,this.isDots&&this.dotsBehavior()}}async stackWatcher(){this.stackNext>0?(await this.btnNextClick(),this.stackNext--,this.stackWatcher()):this.stackPrev>0&&(await this.btnPrevClick(),this.stackPrev--,this.stackWatcher())}setEventListeners(){this.finalSettings.responsive&&window.addEventListener("resize",()=>{this.createSlider()}),this.itemsContainer.addEventListener("touchstart",this.getFirstTouch),this.itemsContainer.addEventListener("touchend",this.getTouchEnd),this.isNode(this.btnNext)&&this.isNode(this.btnPrev)?(this.btnNext.addEventListener("click",()=>{this.stackNext++,1===this.stackNext&&0===this.stackPrev&&this.stackWatcher(),0!==this.stackPrev&&(this.stackPrev=1)}),this.btnPrev.addEventListener("click",()=>{this.stackPrev++,1===this.stackPrev&&0===this.stackNext&&this.stackWatcher(),0!==this.stackNext&&(this.stackNext=1)})):("string"==typeof settings.btnNext&&this.isNod(document.querySelector(settings.btnNext))||console.error('btnNext is a required field. Type of btnNext must be a string. The example: btnNext: ".someSection .someWrapper .someClass"'),"string"==typeof settings.btnPrev&&this.isNod(document.querySelector(settings.btnPrev))||console.error('btnPrev is a required field. Type of btnPrev must be a string. The example: btnPrev: ".someSection .someWrapper .someClass"'))}validationOfTheInputObject(){if("object"!=typeof this.finalSettings)throw new Error('Your options must be an object. The example: new GnativeSlider({itemsContainer: ".someSection .someWrapper .someClass"})');if("string"!=typeof this.finalSettings.itemsContainer||!this.isNode(document.querySelector(this.finalSettings.itemsContainer)))throw new Error('itemsContainer is a required field. Type of itemsContainer must be a string. The example: itemsContainer: ".someSection .someWrapper .someClass"');if("string"!=typeof this.finalSettings.btnNext||!this.isNode(document.querySelector(this.finalSettings.btnNext)))throw new Error('btnNext is a required field. Type of btnNext must be a string. The example: btnNext: ".someSection .someWrapper .someClass"');if("string"!=typeof this.finalSettings.btnPrev||!this.isNode(document.querySelector(this.finalSettings.btnPrev)))throw new Error('btnPrev is a required field. Type of btnPrev must be a string. The example: btnPrev: ".someSection .someWrapper .someClass"');if("string"!=typeof this.finalSettings.dotsContainer||!this.isNode(document.querySelector(this.finalSettings.dotsContainer)))throw new Error('dotsContainer is a required field. Type of dotsContainer must be a string. The example: dotsContainer: ".someSection .someWrapper .someClass"');if("string"!=typeof this.finalSettings.exampleOfDot||!this.isNode(document.querySelector(this.finalSettings.exampleOfDot)))throw new Error('exampleOfDot is a required field. Type of exampleOfDot must be a string. The example: exampleOfDot: ".someSection .someWrapper .someClass"');if("string"!=typeof this.finalSettings.activeDotClass)throw new Error('activeDotClass is a required field. Type of activeDotClass must be a string. The example: activeDotClass: "yourActiveDotClass"');if("loop"in this.finalSettings&&"boolean"!=typeof this.finalSettings.loop)throw new Error("loop is not a required field. The default value is true. Type of loop must be a boolean. The example: loop: false");if("animationTime"in this.finalSettings&&"number"!=typeof this.finalSettings.animationTime)throw new Error("animationTime is not a required field. The default value is 200 ms. Type of loop must be a number. The example: animationTime: 200");if("margin"in this.finalSettings&&"string"!=typeof this.finalSettings.margin)throw new Error('margin is not a required field. The default value is 5px. Also margin can only be in pixels. Type of margin must be a string. The example: margin: "5px"');if("nav"in this.finalSettings&&"boolean"!=typeof this.finalSettings.nav)throw new Error("nav is not a required field. The default value is true. Type of nav must be a boolean. The example: nav: true");if("dots"in this.finalSettings&&"boolean"!=typeof this.finalSettings.dots)throw new Error("dots is not a required field. The default value is true. Type of dots must be a boolean. The example: dots: true");if("itemsCount"in this.finalSettings&&"number"!=typeof this.finalSettings.itemsCount)throw new Error("itemsCount is not a required field. The default value is 1. Type of itemsCount must be a number. The example: itemsCount: 1");if("responsive"in this.finalSettings&&"boolean"!=typeof this.finalSettings.responsive)throw new Error("responsive is not a required field. The default value is false. Type of responsive must be a boolean. The example: responsive: true");if("breakpoints"in this.finalSettings)for(let t in this.finalSettings.breakpoints){if("string"!=typeof t)throw new Error('Type of key of breakpoints must be a string. The example: breakpoints: "1100": {dots: true, nav: true}');if(isNaN(Number(t)))throw new Error('key of breakpoints must be a number but represented as a string. The example: breakpoints: "1100": {dots: true, nav: true}');if("object"!=typeof this.finalSettings.breakpoints[t])throw new Error('keys of breakpoints must contains objects. The example: breakpoints: "1100": {dots: true, nav: true}, "960": {dots: false, nav: true}');if(!("itemsCount"in this.finalSettings.breakpoints[t]))throw new Error("itemsCount in breakpoints is a required field. Type of itemsCount must be a number. The example: itemsCount: 1");if("number"!=typeof this.finalSettings.breakpoints[t].itemsCount)throw new Error("Error in breakpoints."+t+". Type of itemsCount must be a number. The example: itemsCount: 1");if(!("dots"in this.finalSettings.breakpoints[t]))throw new Error("dots in breakpoints is a required field. Type of dots must be a boolean. The example: dots: true");if("boolean"!=typeof this.finalSettings.breakpoints[t].dots)throw new Error("Error in breakpoints."+t+". Type of dots must be a boolean. The example: dots: true");if(!("nav"in this.finalSettings.breakpoints[t]))throw new Error("dots in breakpoints is a required field. Type of nav must be a boolean. The example: nav: true");if("boolean"!=typeof this.finalSettings.breakpoints[t].nav)throw new Error("Error in breakpoints."+t+". Type of nav must be a boolean. The example: nav: true")}}}